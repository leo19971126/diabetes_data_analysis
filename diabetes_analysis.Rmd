---
title: "Diabetes Analysis"
output: html_notebook
---

### Introduction
The objective of this project is to use different data analysis tools to explore this diabetes dataset that originates from NIDDK (National Institute of Diabetes and Digestive and Kidney Diseases)

```{r}
library(moderndive)
library(ggplot2)
library(dplyr)
library(infer)
```

##Read data
```{r}
diabetes_raw <- read.csv('diabetes.csv')
head(diabetes_raw)
```

##Clean data
Here I cleaned the data by getting rid of the zeros for variables such as glucose, blood pressure, etc. The raw dataset have 768 observations, and after cleaning the data there's  observations left. I didn't touch on insulin null values, because I'm not sure what the unit is, so I will not likely to use that variable.  
```{r}
clean_diabetes <- diabetes_raw %>% 
  filter(Glucose != 0 & BloodPressure != 0 & BMI != 0 )
```

##Data visualization
#Glucose VS Diabetes
Patients with diabetes are correlated with higher blood glucose level. So let us see if this is true for our dataset:
```{r}

ggplot(data = clean_diabetes, aes(x = Outcome, y = Glucose, group = cut_width(Outcome, 1)))+ geom_boxplot()

ggplot(data = clean_diabetes, aes(x = Glucose, color = cut_width(Outcome, 1))) + 
  geom_histogram(position="identity") +
  # labs(col="HI") +
  scale_color_manual(name="hi", labels = c("2", "1"), values=c("red","blue"))

```

From this plot, we can see that there is a clear separation of glucose level between diabetic and non-diabetics, where diabetic patients have a higher glucose level than non-diabetic patients. Or if we look at the histogram, non-diabetic patients seems to be more concentrated at 100 level, where diabetic patients seems to be more spreadout at the right side of the chart, and most are above 100. 

#Glucose VS BMI
BMI is also a variable that's closely correlated to diabetes:
```{r}

ggplot(data = clean_diabetes, aes(x = Glucose, y = BMI, color=factor(Outcome))) + 
  geom_point()

```


Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file). 

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.

